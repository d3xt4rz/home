<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROTINA DA ESPOSA DE IGOR</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            background: #000 url('https://4kwallpapers.com/images/walls/thumbs_3t/14811.jpg') no-repeat center center fixed;
            background-size: cover;
            margin: 0;
            padding: 1rem;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            color: #e2e8f0;
            min-height: 100vh;
            -webkit-text-size-adjust: 100%;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: -1;
        }

        @media (max-width: 640px) {
            body {
                padding: 0.5rem;
            }
        }

        .task-item {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            will-change: transform, box-shadow;
        }

        .task-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .task-item.completed {
            animation: taskComplete 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        @keyframes taskComplete {
            0% { opacity: 1; transform: translateX(0); }
            50% { opacity: 0.7; transform: translateX(-10px); }
            100% { opacity: 0.5; transform: translateX(0); }
        }

        .glass-card {
            background: rgba(17, 24, 39, 0.85);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(55, 65, 81, 0.5);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        @media (max-width: 640px) {
            .glass-card {
                border-radius: 0.75rem !important;
            }
        }

        .btn-primary {
            background-color: #9333ea;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            background-color: #7e22ce;
        }

        .btn-glow::after {
            display: none;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in-up {
            animation: fadeInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        .progress-ring {
            transition: stroke-dashoffset 0.35s;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }

        input[type="time"]::-webkit-calendar-picker-indicator,
        input[type="date"]::-webkit-calendar-picker-indicator {
            filter: invert(1);
            cursor: pointer;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 1rem;
        }

        .modal-content {
            background: rgba(17, 24, 39, 0.95);
            border-radius: 1rem;
            border: 1px solid rgba(55, 65, 81, 0.5);
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback } = React;
        
        // JSON padr√£o para frases de elogio
        const defaultPhrases = {
            "completionTexts": [
                "Perfeito! üéØ",
                "Excelente produtividade! ‚≠ê",
                "Bom progresso! 3x mais gostosaaa üî•",
                "Ainn continue assim bb! üí™",
                "Vamos l√°, voc√™ consegue! üöÄ",
                "Que maravilha! Tudo sob controle! üåà",
                "Incr√≠vel! Voc√™ est√° arrasando! üí´",
                "Uau! Que desempenho impressionante! üåü",
                "Fant√°stico! Continue assim! ‚ú®",
                "Maravilhoso! Voc√™ √© demais! ü•∞"
            ]
        };

        function DailyTasksApp() {
            const [showWelcome, setShowWelcome] = useState(() => {
                const welcomeShown = localStorage.getItem("dailyTasks_welcomeShown");
                return welcomeShown !== "true";
            });

            const [tasks, setTasks] = useState(() => {
                try {
                    const raw = localStorage.getItem("dailyTasks_v2");
                    return raw ? JSON.parse(raw) : [];
                } catch (e) {
                    return [];
                }
            });

            const [phrases, setPhrases] = useState(() => {
                try {
                    const raw = localStorage.getItem("dailyTasks_phrases");
                    return raw ? JSON.parse(raw) : defaultPhrases;
                } catch (e) {
                    return defaultPhrases;
                }
            });
            
            const [title, setTitle] = useState("");
            const [dueDate, setDueDate] = useState("");
            const [dueTime, setDueTime] = useState("");
            const [editingId, setEditingId] = useState(null);
            const [filter, setFilter] = useState("all");
            const [search, setSearch] = useState("");
            const [stats, setStats] = useState({ total: 0, completed: 0, pending: 0 });
            const [showPhrasesModal, setShowPhrasesModal] = useState(false);
            const [newPhrase, setNewPhrase] = useState("");

            // Salvar tasks e phrases no localStorage quando mudarem
            useEffect(() => {
                localStorage.setItem("dailyTasks_v2", JSON.stringify(tasks));
            }, [tasks]);

            useEffect(() => {
                localStorage.setItem("dailyTasks_phrases", JSON.stringify(phrases));
            }, [phrases]);

            // Fun√ß√£o auxiliar para criar data sem problemas de fuso hor√°rio
            const createDate = (dateString, timeString = null) => {
                if (!dateString) return null;
                
                const [year, month, day] = dateString.split('-').map(Number);
                let date = new Date(year, month - 1, day);
                
                if (timeString) {
                    const [hours, minutes] = timeString.split(':').map(Number);
                    date.setHours(hours, minutes, 0, 0);
                } else {
                    // Se n√£o tem hor√°rio, considera o final do dia (23:59)
                    date.setHours(23, 59, 0, 0);
                }
                
                return date;
            };

            useEffect(() => {
                const calculateStats = () => {
                    const now = new Date();
                    
                    const completed = tasks.filter(t => t.done).length;
                    const pending = tasks.filter(t => {
                        if (t.done) return false;
                        
                        // Verificar se a tarefa est√° atrasada
                        if (t.dueDate) {
                            const taskDate = createDate(t.dueDate, t.dueTime);
                            return taskDate && taskDate < now;
                        }
                        
                        return false;
                    }).length;
                    
                    setStats({
                        total: tasks.length,
                        completed,
                        pending,
                        completionRate: tasks.length > 0 ? Math.round((completed / tasks.length) * 100) : 0
                    });
                };

                calculateStats();
            }, [tasks]);

            useEffect(() => {
                if (tasks.length > 0) {
                    setShowWelcome(false);
                }
            }, [tasks]);
            
            const addOrUpdateTask = useCallback((e) => {
                e.preventDefault();
                if (!title.trim()) return;

                if (editingId) {
                    setTasks((prev) =>
                        prev.map((t) => (t.id === editingId ? { ...t, title, dueDate, dueTime } : t))
                    );
                    setEditingId(null);
                } else {
                    const newTask = {
                        id: Date.now().toString(),
                        title: title.trim(),
                        dueDate: dueDate || null,
                        dueTime: dueTime || null,
                        createdAt: new Date().toISOString(),
                        done: false,
                    };
                    setTasks((prev) => [newTask, ...prev]);
                }

                setTitle("");
                setDueDate("");
                setDueTime("");
            }, [title, dueDate, dueTime, editingId]);

            const handleStart = useCallback(() => {
                setShowWelcome(false);
                localStorage.setItem("dailyTasks_welcomeShown", "true");
            }, []);
            
            const toggleDone = useCallback((id) => {
                setTasks((prev) => prev.map((t) => (t.id === id ? { ...t, done: !t.done } : t)));
            }, []);

            const startEdit = useCallback((t) => {
                setEditingId(t.id);
                setTitle(t.title);
                setDueDate(t.dueDate || "");
                setDueTime(t.dueTime || "");
            }, []);

            const removeTask = useCallback((id) => {
                if (!confirm("Tem certeza que deseja excluir esta tarefa?")) return;
                setTasks((prev) => prev.filter((t) => t.id !== id));
            }, []);

            const clearCompleted = useCallback(() => {
                if (!confirm("Remover todas as tarefas conclu√≠das?")) return;
                setTasks((prev) => prev.filter((t) => !t.done));
            }, []);

            const getTaskPriority = (task) => {
                if (task.done) return "none";
                if (!task.dueDate) return "none";
                
                const now = new Date();
                const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());
                const tomorrow = new Date(today);
                tomorrow.setDate(tomorrow.getDate() + 1);
                
                const taskDate = createDate(task.dueDate);
                if (!taskDate) return "none";
                
                // Ajustar para comparar apenas a data (sem hora)
                const taskDateOnly = new Date(taskDate.getFullYear(), taskDate.getMonth(), taskDate.getDate());
                
                // Se a tarefa √© para hoje
                if (taskDateOnly.getTime() === today.getTime()) {
                    // Se tem hor√°rio definido, verificar se est√° atrasada
                    if (task.dueTime) {
                        return taskDate < now ? "urgent" : "high";
                    }
                    return "high";
                }
                
                // Se a tarefa √© para antes de hoje (atrasada)
                if (taskDateOnly < today) return "urgent";
                
                // Se a tarefa √© para amanh√£
                if (taskDateOnly.getTime() === tomorrow.getTime()) return "medium";
                
                // Se a tarefa √© para os pr√≥ximos dias (2-3 dias)
                const dayAfterTomorrow = new Date(tomorrow);
                dayAfterTomorrow.setDate(dayAfterTomorrow.getDate() + 1);
                const inThreeDays = new Date(tomorrow);
                inThreeDays.setDate(inThreeDays.getDate() + 2);
                
                if (taskDateOnly >= dayAfterTomorrow && taskDateOnly <= inThreeDays) return "medium";
                
                // Tarefas para mais de 3 dias
                return "low";
            };

            const getPriorityBadge = (priority) => {
                const badges = {
                    urgent: { text: "Atrasado", color: "bg-red-900 text-red-300 border-red-700" },
                    high: { text: "Hoje", color: "bg-purple-900 text-purple-200 border-purple-700" },
                    medium: { text: "Em breve", color: "bg-amber-900 text-amber-200 border-amber-700" },
                    low: { text: "Futuro", color: "bg-emerald-900 text-emerald-200 border-emerald-700" },
                    none: { text: "Sem data", color: "bg-gray-800 text-gray-300 border-gray-700" }
                };
                return badges[priority];
            };

            const formatDate = (dateString) => {
                if (!dateString) return '';
                
                const date = createDate(dateString);
                const today = new Date();
                const tomorrow = new Date(today);
                tomorrow.setDate(tomorrow.getDate() + 1);
                
                const dateOnly = new Date(date.getFullYear(), date.getMonth(), date.getDate());
                const todayOnly = new Date(today.getFullYear(), today.getMonth(), today.getDate());
                const tomorrowOnly = new Date(tomorrow.getFullYear(), tomorrow.getMonth(), tomorrow.getDate());
                
                if (dateOnly.getTime() === todayOnly.getTime()) {
                    return 'Hoje';
                } else if (dateOnly.getTime() === tomorrowOnly.getTime()) {
                    return 'Amanh√£';
                } else {
                    return date.toLocaleDateString('pt-BR');
                }
            };

            const getCompletionText = () => {
                if (stats.completionRate === 100 && phrases.completionTexts.length > 0) {
                    return phrases.completionTexts[0];
                }
                if (stats.completionRate >= 80 && phrases.completionTexts.length > 1) {
                    return phrases.completionTexts[1];
                }
                if (stats.completionRate >= 60 && phrases.completionTexts.length > 2) {
                    return phrases.completionTexts[2];
                }
                if (stats.completionRate >= 40 && phrases.completionTexts.length > 3) {
                    return phrases.completionTexts[3];
                }
                if (phrases.completionTexts.length > 4) {
                    return phrases.completionTexts[4];
                }
                // Fallback se n√£o houver frases suficientes
                return "Continue assim!";
            };
            
            // Fun√ß√µes para gerenciar frases
            const addPhrase = () => {
                if (!newPhrase.trim()) return;
                setPhrases(prev => ({
                    ...prev,
                    completionTexts: [...prev.completionTexts, newPhrase.trim()]
                }));
                setNewPhrase("");
            };

            const removePhrase = (index) => {
                if (!confirm("Tem certeza que deseja remover esta frase?")) return;
                setPhrases(prev => ({
                    ...prev,
                    completionTexts: prev.completionTexts.filter((_, i) => i !== index)
                }));
            };

            const resetPhrases = () => {
                if (!confirm("Isso restaurar√° as frases padr√£o. Tem certeza?")) return;
                setPhrases(defaultPhrases);
            };

            // Fun√ß√µes para exportar/importar dados
            const exportData = () => {
                const data = {
                    tasks: tasks,
                    phrases: phrases
                };
                const dataStr = JSON.stringify(data, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                
                const url = URL.createObjectURL(dataBlob);
                const link = document.createElement('a');
                link.href = url;
                link.download = 'rotina_tasks_backup.json';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                URL.revokeObjectURL(url);
            };

            const importData = (event) => {
                const file = event.target.files[0];
                if (!file) return;
                
                const reader = new FileReader();
                reader.onload = (e) => {
                    try {
                        const data = JSON.parse(e.target.result);
                        
                        if (confirm("Isso substituir√° seus dados atuais. Tem certeza?")) {
                            if (data.tasks) setTasks(data.tasks);
                            if (data.phrases) setPhrases(data.phrases);
                            alert("Dados importados com sucesso!");
                        }
                    } catch (error) {
                        alert("Erro ao importar arquivo. Verifique se √© um JSON v√°lido.");
                    }
                };
                reader.readAsText(file);
                
                // Reset do input para permitir importar o mesmo arquivo novamente
                event.target.value = '';
            };

            const visibleTasks = tasks.filter((t) => {
                if (search && !t.title.toLowerCase().includes(search.toLowerCase())) return false;

                if (filter === "all") return true;
                if (filter === "completed") return t.done;
                if (filter === "pending") return !t.done;
                if (filter === "overdue") {
                    if (t.done || !t.dueDate) return false;
                    
                    const now = new Date();
                    const taskDate = createDate(t.dueDate, t.dueTime);
                    
                    return taskDate && taskDate < now;
                }
                if (filter === "today") {
                    if (t.done || !t.dueDate) return false;
                    
                    const today = new Date();
                    const taskDate = createDate(t.dueDate);
                    const todayOnly = new Date(today.getFullYear(), today.getMonth(), today.getDate());
                    const taskDateOnly = new Date(taskDate.getFullYear(), taskDate.getMonth(), taskDate.getDate());
                    
                    return taskDateOnly.getTime() === todayOnly.getTime();
                }
                return true;
            });

            return (
                <div className="min-h-screen flex flex-col items-center justify-center p-4">
                    {showWelcome && (
                        <div className="glass-card rounded-2xl p-6 mb-6 text-center animate-fade-in-up border border-gray-700 w-full max-w-md">
                            <div className="flex justify-center mb-4">
                                <div className="w-14 h-14 rounded-lg bg-purple-600 flex items-center justify-center">
                                    <i className="fas fa-tasks text-white text-xl"></i>
                                </div>
                            </div>
                            <h2 className="text-xl md:text-2xl font-bold mb-3 text-gray-200">
                                Bem-vindo delicia, vamo querer se organizar?
                            </h2>
                            <p className="text-gray-400 mb-5 max-w-md mx-auto text-sm">
                                Organize sua rotina ai, acompanhe seu progresso e conquiste seus objetivos di√°rios com facilidade. hehehe.
                            </p>
                            <button 
                                onClick={handleStart}
                                className="px-5 py-2.5 bg-purple-600 hover:bg-purple-700 text-white font-medium rounded-lg transition-all duration-300 shadow-md"
                            >
                                Come√ßar Agora
                            </button>
                        </div>
                    )}
                    
                    <div className="w-full max-w-4xl">
                        <div className={`glass-card rounded-2xl shadow-lg overflow-hidden border border-gray-700 ${showWelcome ? 'hidden' : 'block'}`}>
                            <div className="p-5 border-b border-gray-700">
                                <div className="flex flex-col md:flex-row md:items-center md:justify-between gap-3">
                                    <div className="flex items-center gap-3">
                                        <div className="flex items-center gap-1">
                                            <i className="fas fa-check-circle text-green-400"></i>
                                            <span className="font-medium text-gray-200">{stats.completed}/{stats.total}</span>
                                        </div>
                                        <div className="w-1 h-1 rounded-full bg-gray-600"></div>
                                        <div className="flex items-center gap-1">
                                            <i className="fas fa-exclamation-circle text-red-400"></i>
                                            <span className="font-medium text-red-300">{stats.pending}</span>
                                        </div>
                                    </div>
                                    
                                    <div className="flex gap-2">
                                        <button
                                            onClick={() => setShowPhrasesModal(true)}
                                            className="px-3 py-1.5 rounded-lg text-gray-300 hover:text-purple-300 hover:bg-purple-900/30 border border-purple-700/50 transition-all duration-300 flex items-center gap-1.5 text-sm"
                                        >
                                            <i className="fas fa-comment-alt" style={{fontSize: '0.85em'}}></i>
                                            <span className="hidden sm:inline">Frases</span>
                                        </button>
                                        
                                        <button
                                            onClick={exportData}
                                            className="px-3 py-1.5 rounded-lg text-gray-300 hover:text-green-300 hover:bg-green-900/30 border border-green-700/50 transition-all duration-300 flex items-center gap-1.5 text-sm"
                                        >
                                            <i className="fas fa-download" style={{fontSize: '0.85em'}}></i>
                                            <span className="hidden sm:inline">Exportar</span>
                                        </button>
                                        
                                        <label className="px-3 py-1.5 rounded-lg text-gray-300 hover:text-blue-300 hover:bg-blue-900/30 border border-blue-700/50 transition-all duration-300 flex items-center gap-1.5 text-sm cursor-pointer">
                                            <i className="fas fa-upload" style={{fontSize: '0.85em'}}></i>
                                            <span className="hidden sm:inline">Importar</span>
                                            <input
                                                type="file"
                                                accept=".json"
                                                onChange={importData}
                                                className="hidden"
                                            />
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div className="p-5 border-b border-gray-700">
                                <form onSubmit={addOrUpdateTask} className="relative">
                                    <div className="flex flex-col gap-3">
                                        <div className="flex flex-col sm:flex-row gap-3">
                                            <div className="flex-1">
                                                <div className="relative">
                                                    <div className="absolute left-3.5 top-1/2 -translate-y-1/2 text-purple-400">
                                                        <i className={editingId ? "fas fa-edit" : "fas fa-plus"}></i>
                                                    </div>
                                                    <input
                                                        value={title}
                                                        onChange={(e) => setTitle(e.target.value)}
                                                        placeholder={editingId ? "Editar tarefa..." : "O que voc√™ precisa fazer hoje?"}
                                                        className="w-full pl-10 pr-4 py-3 rounded-lg bg-gray-900 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent transition-all duration-300 text-white placeholder-gray-500"
                                                    />
                                                </div>
                                            </div>
                                            
                                            <div className="flex flex-col sm:flex-row gap-3">
                                                <button
                                                    type="submit"
                                                    className="px-4 py-3 rounded-lg bg-purple-600 hover:bg-purple-700 text-white font-medium shadow-md transition-all duration-300 flex items-center justify-center min-w-[110px]"
                                                >
                                                    <span className="flex items-center gap-1.5">
                                                        {editingId ? (
                                                            <>
                                                                <i className="fas fa-save"></i>
                                                                <span className="hidden sm:inline text-sm">Salvar</span>
                                                            </>
                                                        ) : (
                                                            <>
                                                                <i className="fas fa-plus"></i>
                                                                <span className="hidden sm:inline text-sm">Adicionar</span>
                                                            </>
                                                        )}
                                                    </span>
                                                </button>
                                            </div>
                                        </div>
                                        
                                        <div className="flex flex-col sm:flex-row gap-3">
                                            <div className="relative flex-1">
                                                <div className="absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400">
                                                    <i className="far fa-calendar"></i>
                                                </div>
                                                <input
                                                    type="date"
                                                    value={dueDate}
                                                    onChange={(e) => setDueDate(e.target.value)}
                                                    className="w-full pl-10 pr-4 py-3 rounded-lg bg-gray-900 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent transition-all duration-300"
                                                />
                                            </div>
                                            
                                            <div className="relative flex-1">
                                                <div className="absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400">
                                                    <i className="far fa-clock"></i>
                                                </div>
                                                <input
                                                    type="time"
                                                    value={dueTime}
                                                    onChange={(e) => setDueTime(e.target.value)}
                                                    className="w-full pl-10 pr-4 py-3 rounded-lg bg-gray-900 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent transition-all duration-300"
                                                />
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>

                            <div className="p-5 border-b border-gray-700">
                                <div className="flex flex-col md:flex-row md:items-center md:justify-between gap-3">
                                    <div className="flex flex-wrap gap-2">
                                        {[
                                            { label: "Todas", value: "all", icon: "fas fa-list" },
                                            { label: "Pendentes", value: "pending", icon: "fas fa-hourglass-half" },
                                            { label: "Hoje", value: "today", icon: "fas fa-calendar-day" },
                                            { label: "Atrasadas", value: "overdue", icon: "fas fa-exclamation-triangle" },
                                            { label: "Conclu√≠das", value: "completed", icon: "fas fa-check-circle" }
                                        ].map(({ label, value, icon }) => (
                                            <button
                                                key={value}
                                                onClick={() => setFilter(value)}
                                                className={`flex items-center gap-1.5 px-3.5 py-1.5 rounded-lg font-medium transition-all duration-300 text-sm ${
                                                    filter === value
                                                        ? "bg-purple-600 text-white"
                                                        : "bg-gray-800 text-gray-300 hover:bg-gray-700 border border-gray-700"
                                                }`}
                                            >
                                                <i className={icon} style={{fontSize: '0.85em'}}></i>
                                                <span>{label}</span>
                                            </button>
                                        ))}
                                    </div>

                                    <div className="flex gap-2">
                                        <div className="relative">
                                            <div className="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">
                                                <i className="fas fa-search"></i>
                                            </div>
                                            <input
                                                value={search}
                                                onChange={(e) => setSearch(e.target.value)}
                                                placeholder="Pesquisar tarefas..."
                                                className="pl-9 pr-3.5 py-1.5 w-full md:w-56 rounded-lg bg-gray-900 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent transition-all duration-300 text-white placeholder-gray-500 text-sm"
                                            />
                                        </div>

                                        <button
                                            onClick={clearCompleted}
                                            className="px-3 py-1.5 rounded-lg text-gray-300 hover:text-red-300 hover:bg-red-900/30 border border-red-700/50 transition-all duration-300 flex items-center gap-1.5 text-sm"
                                        >
                                            <i className="fas fa-trash-alt" style={{fontSize: '0.85em'}}></i>
                                            <span className="hidden sm:inline">Limpar</span>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <main className="p-5">
                                {visibleTasks.length === 0 ? (
                                    <div className="text-center py-12">
                                        {filter === "completed" ? (
                                            <div className="max-w-md mx-auto">
                                                <div className="text-5xl mb-3 text-green-400">
                                                    <i className="fas fa-check-circle"></i>
                                                </div>
                                                <h3 className="text-xl font-bold mb-1 text-green-300">
                                                    Tudo Conclu√≠do!
                                                </h3>
                                                <p className="text-gray-400 text-sm">
                                                    Aiii! Voc√™ est√° √† frente de suas tarefas. Adicione novos objetivos para continuar seu progresso.
                                                </p>
                                            </div>
                                        ) : (
                                            <div className="max-w-md mx-auto">
                                                <div className="text-5xl mb-3 text-purple-500">
                                                    <i className="fas fa-clipboard-list"></i>
                                                </div>
                                                <h3 className="text-xl font-bold mb-1 text-gray-200">
                                                    {search ? "Nenhuma tarefa encontrada" : "Nenhuma tarefa aqui"}
                                                </h3>
                                                <p className="text-gray-400 text-sm">
                                                    {search 
                                                        ? "Tente ajustar sua busca ou limpar o filtro."
                                                        : "Adicione sua primeira tarefa e comece a organizar seu dia!"}
                                                </p>
                                            </div>
                                        )}
                                    </div>
                                ) : (
                                    <div className="space-y-2.5">
                                        {visibleTasks.map((t) => {
                                            const priority = getTaskPriority(t);
                                            const badge = getPriorityBadge(priority);
                                            const isOverdue = priority === "urgent" && !t.done;
                                            
                                            return (
                                                <div
                                                    key={t.id}
                                                    className={`task-item ${
                                                        t.done ? 'completed' : ''
                                                    } glass-card rounded-lg p-3.5 border ${
                                                        isOverdue ? 'border-red-700/50' : 
                                                        t.done ? 'border-green-700/30' : 
                                                        'border-gray-700'
                                                    } ${
                                                        editingId === t.id ? 'ring-2 ring-purple-500/50' : ''
                                                    }`}
                                                >
                                                    <div className="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
                                                        <div className="flex items-start gap-3 flex-1">
                                                            <div className="mt-0.5">
                                                                <input
                                                                    type="checkbox"
                                                                    checked={t.done}
                                                                    onChange={() => toggleDone(t.id)}
                                                                    className="w-4.5 h-4.5 rounded border-gray-600 bg-gray-800 text-purple-600 focus:ring-purple-600 focus:ring-offset-0 cursor-pointer transition-all duration-200"
                                                                    aria-label={`Marcar ${t.title}`}
                                                                />
                                                            </div>
                                                            
                                                            <div className="flex-1 min-w-0">
                                                                <div className={`text-sm font-medium transition-all duration-300 ${
                                                                    t.done ? "line-through text-gray-500" : "text-gray-200"
                                                                }`}>
                                                                    {t.title}
                                                                </div>
                                                                <div className="flex flex-wrap items-center gap-2 mt-1">
                                                                    <span className={`text-xs px-2 py-0.5 rounded-full border ${badge.color}`}>
                                                                        <i className="fas fa-clock mr-0.5 text-[0.75em]"></i>
                                                                        {badge.text}
                                                                    </span>
                                                                    {t.dueDate && (
                                                                        <span className="text-xs text-gray-500">
                                                                            <i className="far fa-calendar mr-0.5 text-[0.75em]"></i>
                                                                            {formatDate(t.dueDate)}
                                                                        </span>
                                                                    )}
                                                                    {t.dueTime && (
                                                                        <span className="text-xs text-gray-500">
                                                                            <i className="far fa-clock mr-0.5 text-[0.75em]"></i>
                                                                            {t.dueTime}
                                                                        </span>
                                                                    )}
                                                                </div>
                                                            </div>
                                                        </div>
                                                        
                                                        <div className="flex flex-wrap gap-1.5 justify-end">
                                                            <button 
                                                                onClick={() => startEdit(t)} 
                                                                className="p-1.5 rounded-md text-gray-400 hover:text-purple-400 hover:bg-purple-900/30 transition-all duration-200"
                                                                title="Editar"
                                                            >
                                                                <i className="fas fa-edit text-sm"></i>
                                                            </button>
                                                            <button 
                                                                onClick={() => removeTask(t.id)} 
                                                                className="p-1.5 rounded-md text-gray-400 hover:text-red-400 hover:bg-red-900/30 transition-all duration-200"
                                                                title="Excluir"
                                                            >
                                                                <i className="fas fa-trash-alt text-sm"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            );
                                        })}
                                    </div>
                                )}
                            </main>

                            <div className="p-5 bg-gray-900 border-t border-gray-700">
                                <div className="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                                    <div className="flex items-center gap-4">
                                        <div className="w-20 h-20 relative">
                                            <svg className="w-full h-full" viewBox="0 0 36 36">
                                                <circle
                                                    className="text-gray-700"
                                                    strokeWidth="2.5"
                                                    strokeDasharray="100"
                                                    strokeDashoffset="0"
                                                    fill="none"
                                                    cx="18"
                                                    cy="18"
                                                    r="16"
                                                />
                                                <circle
                                                    className="progress-ring text-purple-600"
                                                    strokeWidth="2.5"
                                                    strokeDasharray="100"
                                                    strokeDashoffset={`${100 - stats.completionRate}`}
                                                    fill="none"
                                                    cx="18"
                                                    cy="18"
                                                    r="16"
                                                />
                                                <text
                                                    x="18"
                                                    y="20"
                                                    className="text-gray-200 text-sm font-bold text-center fill-current"
                                                    textAnchor="middle"
                                                >
                                                    {stats.completionRate}%
                                                </text>
                                            </svg>
                                        </div>
                                        <div>
                                            <h3 className="text-base font-bold text-purple-400">
                                                {getCompletionText()}
                                            </h3>
                                            <p className="text-gray-400 text-xs">
                                                {stats.total > 0 
                                                    ? `Voc√™ completou ${stats.completed} de ${stats.total} tarefas.`
                                                    : 'Adicione sua primeira tarefa para come√ßar!'}
                                            </p>
                                        </div>
                                    </div>
                                    <div className="text-center md:text-right">
                                        <p className="text-xs text-gray-400">
                                            <i className="far fa-clock mr-1.5 text-[0.8em]"></i>
                                            √öltima atualiza√ß√£o: {new Date().toLocaleTimeString('pt-BR')}
                                        </p>
                                        <p className="text-[0.75rem] text-gray-500 mt-0.5">
                                            <i className="fas fa-fingerprint mr-1 text-[0.7em]"></i>
                                            Dados salvos localmente no seu navegador bb
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Modal de Gerenciamento de Frases */}
                        {showPhrasesModal && (
                            <div className="modal-overlay">
                                <div className="modal-content p-5">
                                    <div className="flex justify-between items-center mb-4">
                                        <h3 className="text-lg font-bold text-gray-200">Gerenciar Frases de Elogio</h3>
                                        <button 
                                            onClick={() => setShowPhrasesModal(false)}
                                            className="text-gray-400 hover:text-white"
                                        >
                                            <i className="fas fa-times"></i>
                                        </button>
                                    </div>
                                    
                                    <div className="mb-4">
                                        <div className="flex gap-2 mb-3">
                                            <input
                                                value={newPhrase}
                                                onChange={(e) => setNewPhrase(e.target.value)}
                                                placeholder="Adicionar nova frase..."
                                                className="flex-1 px-3 py-2 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent text-white placeholder-gray-500 text-sm"
                                            />
                                            <button
                                                onClick={addPhrase}
                                                className="px-3 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-sm"
                                            >
                                                Adicionar
                                            </button>
                                        </div>
                                        
                                        <div className="max-h-60 overflow-y-auto">
                                            {phrases.completionTexts.map((phrase, index) => (
                                                <div key={index} className="flex items-center justify-between p-2 bg-gray-800 rounded-lg mb-2">
                                                    <span className="text-gray-200 text-sm">{phrase}</span>
                                                    <button
                                                        onClick={() => removePhrase(index)}
                                                        className="text-red-400 hover:text-red-300 ml-2"
                                                    >
                                                        <i className="fas fa-trash-alt text-sm"></i>
                                                    </button>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                    
                                    <div className="flex justify-between">
                                        <button
                                            onClick={resetPhrases}
                                            className="px-3 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-lg text-sm"
                                        >
                                            Restaurar Padr√£o
                                        </button>
                                        <button
                                            onClick={() => setShowPhrasesModal(false)}
                                            className="px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm"
                                        >
                                            Fechar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}

                        <footer className="mt-5 text-center text-xs text-gray-600">
                            <p>
                                <i className="fas fa-code mr-1"></i>
                                Desenvolvido com ‚ù§Ô∏è By D3xt4rz
                            </p>
                        </footer>
                    </div>
                </div>
            );
        }

        // Renderizar a aplica√ß√£o
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<DailyTasksApp />);
    </script>
</body>
</html>
